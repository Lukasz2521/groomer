(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,a){},36:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACcSURBVHgBxdWBCYAgEAVQR3GT3NxRHOVnZCGaeN4/6SCC7N8rFXQuFwCfr3jdnUF1/cqDhLsSC332K2JdaqgBnoqjgWVo2oeFxHkttJxbDahnQBoEu5azBjQggIIJMIFgBgghHqigMECCs6jtf7J9TTDeXQc2b18vGaeB1ffUgBrSfpk4B3KOp3kWEEH44YxXAwOom7LIAg309jsBjktLbDynQy8AAAAASUVORK5CYII="},37:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABCSURBVHgB7dbBDQAgCATB01ionWmnCkWQi3En4c1rCRJQpJ0ggy4T2+IRMwUUyI6XDP47INnxFlAgc5oy4BEA3ncBMqoUBSr4anUAAAAASUVORK5CYII="},38:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAlCAYAAADFniADAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOdSURBVHgB7VfNTxNBFH+zWw/EGDHGgwfjNka9mAgmxqImLhfiCehfgEYvnCxpjEcxHg1SDnqlXL2U4s1LFxMDeoCa6AWCrjEgiUCLJkLCbsf39qPd7lcHJdFDf8nL7M68mfnt+5pZgDbaaOPfgIkqFtRMZ2JHHuKMd+Gsas/z4eKJ7rOaX49zrmIzgNKFUkaZYIzpsA8kRJQKqQeKvGuUOAPF+g4OsLNazSCBHG444iF0C5tJz1QVZRD7e/dDTBJRSnBjHBvF27exsEINERt3CCk+Qi6i+v+cFFkJLTTo799aXHEfiVgntvdillFRpwsOipTMjNDFfn3bQqm4r24MxeEiHBQpsK0QivXXH9xHBaUK8Wg1DsKkZEkuR41tL615NyxDPN6Tm1FGUSYpFp04DECoJMyksiWwM6kJh450wM1Xj+kx6RD7jBJm2RzKFErJN66jBDIzUBKKqewo4xi0DDqRsVYDyJumNCJLtRL1eXX3fu7A+puP+ZPXL1iLUupjU4DmTJ2msoFjYYRJjzKz19vZZKliTzZnEfKD8xGzJmuybOKGTGn0w7TZYd5Oa7lqQ9VyiYpyFKWMhGZD6pcfx1CvvkY9pqhihxKyqLNxDK5q//zTJDBJJZEl/ErGi6eudRdw0wq3UXE257gJVfJZZwXhzGsildiVY1NaZnsW4f65J7Mml74YaCVkO/n93bIKDbdQS+95cldUIPuge63URMoAU4+dyu2NrSMHjBJa1foIiqvNhZWwGQpKySFWjFk57++ok0rP53RstMipzK4zRAh8R8728lrULNIjfT1i7Txa6VFwKw8Kqawq24sEYIKZTICs8JDx45fOwNVnwxAD+iDKMLLukPNOWTkVptxUPNPzY5ppTeZ6vZNDlXPIkCW5vWAAP9BSBroxBuR6+hhKAKpL6ShChMjiWbh83w78w3u6m/IzV7IVf61yQZYiiwmASGlxCsKXvJfoWh7hWsL5u31w7k4fCICyLRmnIHSfIkS5zsVGeAaGQWl1jREmBSFnnxdUFlrElRen4waFSJHrwFcGwhBTGvyIvcYIWorfENHy3K/ioHuOn1AIkeIRGefH5uKnVipuvYK/JsVqYn8i20urblzR5jo03ESthtIt8lcjRMroMKeaCmo4NDwPM19fzCm4MV1Fkk7LnFb4N0v8ZxSLaeA+RaCKDzA68HZsAg4IwqQsYqkM3hCkh0SMWzdTrpm8NuEc5m208d/iN4QMcTtRiAs4AAAAAElFTkSuQmCC"},43:function(e,t,a){e.exports=a(78)},48:function(e,t,a){},69:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),o=a(15),s=a(13),u=(a(48),a(4)),i=a.n(u),m=a(8),p=a(9),A=a.n(p),E=Object(n.createContext)(),d=a(17),f=a(2),C=function(e,t){switch(t.type){case"GET_CONTACTS":return Object(f.a)({},e,{contacts:t.payload,loading:!1});case"ADD_CONTACT":return Object(f.a)({},e,{contacts:[].concat(Object(d.a)(e.contacts),[t.payload]),loading:!1});case"DELETE_CONTACT":return Object(f.a)({},e,{contacts:e.contacts.filter((function(e){return e._id!==t.payload})),loading:!1});case"SET_CURRENT":return Object(f.a)({},e,{current:t.payload});case"CLEAR_CURRENT":return Object(f.a)({},e,{current:null});case"UPDATE_CONTACT":return Object(f.a)({},e,{contacts:e.contacts.map((function(e){return e._id===t.payload._id?t.payload:e})),loading:!1});case"FILTER_CONTACTS":return Object(f.a)({},e,{filtered:e.contacts.filter((function(e){var a=new RegExp("".concat(t.payload),"gi");return e.name.match(a)||e.email.match(a)}))});case"CLEAR_FILTER":return Object(f.a)({},e,{filtered:null});case"CONTACT_ERROR":return Object(f.a)({},e,{error:t.payload});case"CLEAR_CONTACTS":return Object(f.a)({},e,{contacts:null,filtered:null,error:null,current:null});default:return e}},g=function(e){var t=Object(n.useReducer)(C,{contacts:null,current:null,filtered:null,error:null}),a=Object(m.a)(t,2),c=a[0],l=a[1];return r.a.createElement(E.Provider,{value:{contacts:c.contacts,current:c.current,filtered:c.filtered,error:c.error,addContact:function(e){var t,a;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{"Content-Type":"application/json"}},n.prev=1,n.next=4,i.a.awrap(A.a.post("/api/contacts",e,t));case 4:a=n.sent,l({type:"ADD_CONTACT",payload:a.data}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),l({type:"CONTACT_ERROR",payload:n.t0.response.msg});case 11:case"end":return n.stop()}}),null,null,[[1,8]])},deleteContact:function(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.awrap(A.a.delete("/api/contacts/".concat(e)));case 3:l({type:"DELETE_CONTACT",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),l({type:"CONTACT_ERROR",payload:t.t0.response.msg});case 9:case"end":return t.stop()}}),null,null,[[0,6]])},setCurrent:function(e){l({type:"SET_CURRENT",payload:e})},clearCurrent:function(){l({type:"CLEAR_CURRENT"})},updateContact:function(e){var t,a;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{"Content-Type":"application/json"}},n.prev=1,n.next=4,i.a.awrap(A.a.put("/api/contacts/".concat(e._id),e,t));case 4:a=n.sent,l({type:"UPDATE_CONTACT",payload:a.data}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),l({type:"CONTACT_ERROR",payload:n.t0.response.msg});case 11:case"end":return n.stop()}}),null,null,[[1,8]])},filterContacts:function(e){l({type:"FILTER_CONTACTS",payload:e})},clearFilter:function(){l({type:"CLEAR_FILTER"})},getContacts:function(){var e;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.awrap(A.a.get("/api/contacts"));case 3:e=t.sent,l({type:"GET_CONTACTS",payload:e.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),l({type:"CONTACT_ERROR",payload:t.t0.response.data});case 10:case"end":return t.stop()}}),null,null,[[0,7]])},clearContacts:function(){l({type:"CLEAR_CONTACTS"})}}},e.children)},h=Object(n.createContext)(),O=function(e,t){switch(t.type){case"USER_LOADED":return Object(f.a)({},e,{isAuthenticated:!0,loading:!1,user:t.payload});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(f.a)({},e,{},t.payload,{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":return localStorage.removeItem("token"),Object(f.a)({},e,{token:null,isAuthenticated:!1,loading:!1,user:null,error:t.payload});case"CLEAR_ERRORS":return Object(f.a)({},e,{error:null});default:return e}},v=function(e){e?A.a.defaults.headers.common["x-auth-token"]=e:delete A.a.defaults.headers.common["x-auth-token"]},y=function(e){var t={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null,error:null},a=Object(n.useReducer)(O,t),c=Object(m.a)(a,2),l=c[0],o=c[1],s=function(){var e;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.token&&v(localStorage.token),t.prev=1,t.next=4,i.a.awrap(A.a.get("/api/auth"));case 4:e=t.sent,o({type:"USER_LOADED",payload:e.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),o({type:"AUTH_ERROR"});case 11:case"end":return t.stop()}}),null,null,[[1,8]])};return r.a.createElement(h.Provider,{value:{token:l.token,isAuthenticated:l.isAuthenticated,loading:l.loading,user:l.user,error:l.error,register:function(e){var t,a;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{"Content-Type":"application/json"}},n.prev=1,n.next=4,i.a.awrap(A.a.post("/api/users",e,t));case 4:a=n.sent,o({type:"REGISTER_SUCCESS",payload:a.data}),s(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),o({type:"REGISTER_FAIL",payload:n.t0.response.data.msg});case 12:case"end":return n.stop()}}),null,null,[[1,9]])},clearErrors:function(){return o({type:"CLEAR_ERRORS"})},loadUser:s,login:function(e){var t,a;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{"Content-Type":"application/json"}},n.prev=1,n.next=4,i.a.awrap(A.a.post("/api/auth",e,t));case 4:a=n.sent,o({type:"LOGIN_SUCCESS",payload:a.data}),s(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),o({type:"LOGIN_FAIL",payload:n.t0.response.data.msg});case 12:case"end":return n.stop()}}),null,null,[[1,9]])},logout:function(){return o({type:"LOGOUT"})}}},e.children)},b=a(35),R=a.n(b),j=Object(n.createContext)(),T=function(e,t){switch(t.type){case"SET_ALERT":return[].concat(Object(d.a)(e),[t.payload]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==t.payload}));default:return e}},N=function(e){var t=Object(n.useReducer)(T,[]),a=Object(m.a)(t,2),c=a[0],l=a[1];return r.a.createElement(j.Provider,{value:{alerts:c,setAlert:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,n=R.a.v4();l({type:"SET_ALERT",payload:{msg:e,type:t,id:n}}),setTimeout((function(){return l({type:"REMOVE_ALERT",payload:n})}),a)}}},e.children)},w=(a(32),a(69),a(36)),x=a.n(w),S=a(37),k=a.n(S),I=a(38),L=a.n(I),U=function(e){var t=e.title,a=(e.icon,Object(n.useContext)(h)),c=a.isAuthenticated,l=a.logout,s=(a.user,function(){document.querySelector("ul").classList.toggle("active")}),u=r.a.createElement(n.Fragment,null,r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){l()},href:"#!"},r.a.createElement("i",{className:"fas fa-sign-out-alt"}),r.a.createElement("span",null,"Wyloguj si\u0119")))),i=r.a.createElement(n.Fragment,null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/register",onClick:s},"ZA\u0141\xd3\u017b KONTO")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/login",onClick:s},"ZALOGUJ SI\u0118")));return r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"logo-wrapper"},r.a.createElement("img",{className:"logo",src:L.a,alt:"logo"}),r.a.createElement("h1",{className:"app-title"},t)),r.a.createElement("div",{className:"menu-btn btn",onClick:s},r.a.createElement("img",{src:k.a,alt:"menu"})),r.a.createElement("ul",null,r.a.createElement("div",{className:"close-btn btn",onClick:s},r.a.createElement("img",{src:x.a,alt:"close"})),c?u:i))};U.defaultProps={title:"Groomer Client",icon:"fas fa-paw"};var D=U,F=a(12),B=(a(75),function(){var e=Object(n.useContext)(E),t=Object(n.useContext)(j),a=e.addContact,c=e.current,l=e.clearCurrent,o=e.updateContact,s=t.setAlert;Object(n.useEffect)((function(){A(null!==c?c:{name:"",email:"",phone:"",type:"personal"})}),[e,c]);var u=Object(n.useState)({name:"",email:"",phone:"",type:"personal"}),i=Object(m.a)(u,2),p=i[0],A=i[1],d=p.name,C=p.email,g=p.phone,h=(p.type,function(e){return A(Object(f.a)({},p,Object(F.a)({},e.target.name,e.target.value)))}),O=function(){l()};return r.a.createElement("div",{className:"form-container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),null===c?a(p):o(p),O(),""===d&&""===C&&""===g?s("Wype\u0142nij wszystkie pola !","danger"):""===d&&s("Wprowad\u017a imi\u0119 !","danger")}},r.a.createElement("h2",null,c?"Edytuj kontakt":"Dodaj Kontakt"),r.a.createElement("input",{type:"text",placeholder:"Imi\u0119",name:"name",value:d,onChange:h}),r.a.createElement("input",{type:"text",placeholder:"Imi\u0119 zwierz\u0119cia",name:"email",value:C,onChange:h}),r.a.createElement("input",{type:"text",placeholder:"Numer telefonu",name:"phone",value:g,onChange:h}),r.a.createElement("div",null,r.a.createElement("input",{className:"submit",type:"submit",value:c?"Aktualizuj":"Dodaj kontakt"})),c&&r.a.createElement("div",null,r.a.createElement("button",{className:"submit",onClick:O},"Cofnij"))))}),_=a(81),K=a(80),G=function(e){var t=e.contact,a=Object(n.useContext)(E),c=a.deleteContact,l=a.setCurrent,o=a.clearCurrent,s=t._id,u=t.name,i=t.email,m=t.phone;return r.a.createElement("div",{className:"contact-item"},r.a.createElement("h3",null,u," "),r.a.createElement("ul",null,i&&r.a.createElement("li",null,r.a.createElement("i",{class:"fas fa-dog"})," ",i),m&&r.a.createElement("li",null,r.a.createElement("i",{className:"fas fa-phone"})," ",m)),r.a.createElement("button",{className:"submit",onClick:function(){return l(t)}},"EDIT"),r.a.createElement("button",{className:"submit",onClick:function(){console.log(s),c(s),o()}},"DELETE"))},J=function(){var e=Object(n.useContext)(E),t=e.contacts,a=e.filtered,c=e.getContacts,l=e.loading;return Object(n.useEffect)((function(){c()}),[]),null===t||0!==t.length||l?r.a.createElement(n.Fragment,null,null===t||l?r.a.createElement("h1",null,"\u0141aduj\u0119..."):r.a.createElement(_.a,null,null!==a?a.map((function(e){return r.a.createElement(K.a,{key:e._id,timeout:500,classNames:"item"},r.a.createElement(G,{contact:e}))})):t.map((function(e){return r.a.createElement(K.a,{key:e._id,timeout:500,classNames:"item"},r.a.createElement(G,{contact:e}))})))):r.a.createElement("h4",null,"Dodaj swojego pierwszego klienta")},M=function(){var e=Object(n.useContext)(E),t=e.filterContacts,a=e.clearFilter,c=e.filtered,l=Object(n.useRef)("");Object(n.useEffect)((function(){null===c&&(l.current.value="")}));return r.a.createElement("form",null,r.a.createElement("input",{ref:l,type:"text",placeholder:"WYSZUKAJ KONTAKT",onChange:function(e){""!==l.current.value?t(e.target.value):a()}}))},Q=(a(76),function(){var e=Object(n.useContext)(h).loadUser;return Object(n.useEffect)((function(){e()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"contacts-container"},r.a.createElement(M,null),r.a.createElement(J,null)),r.a.createElement("div",null,r.a.createElement(B,null))))}),W=function(){return r.a.createElement(r.a.Fragment,null,"About")},Y=(a(34),function(e){var t=Object(n.useContext)(j),a=Object(n.useContext)(h),c=t.setAlert,l=a.register,o=a.error,s=a.clearErrors,u=a.isAuthenticated;Object(n.useEffect)((function(){u&&e.history.push("/"),"User already exist"===o&&(c(o,"danger"),s())}),[o,u,e.history]);var i=Object(n.useState)({name:"",email:"",password:"",password2:""}),p=Object(m.a)(i,2),A=p[0],E=p[1],d=A.name,C=A.email,g=A.password,O=A.password2,v=function(e){return E(Object(f.a)({},A,Object(F.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"form-container"},r.a.createElement("h1",null,"Zarejestruj si\u0119"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""===d||""===C||""===g?c("Please enter all fields","danger"):g!==O?c("Passwords do not match","danger"):g.length<6?c("Passwords must be 6","danger"):l({name:d,email:C,password:g})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"}),r.a.createElement("input",{placeholder:"LOGIN",type:"text",name:"name",value:d,onChange:v})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"}),r.a.createElement("input",{placeholder:"ADRES EMAIL",type:"email",name:"email",value:C,onChange:v})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"}),r.a.createElement("input",{placeholder:"HAS\u0141O",type:"password",name:"password",value:g,onChange:v})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password2"}),r.a.createElement("input",{placeholder:"POWT\xd3RZ HAS\u0141O",type:"password",name:"password2",value:O,onChange:v})),r.a.createElement("input",{className:"submit",type:"submit",value:"STW\xd3RZ"})))}),z=function(e){var t=Object(n.useContext)(j),a=Object(n.useContext)(h),c=t.setAlert,l=a.login,o=a.error,s=a.clearErrors,u=a.isAuthenticated;Object(n.useEffect)((function(){u&&e.history.push("/"),"Ups, co\u015b posz\u0142o nie tak !"===o&&(c(o,"danger"),s())}),[o,u,e.history]);var i=Object(n.useState)({email:"",password:""}),p=Object(m.a)(i,2),A=p[0],E=p[1],d=A.email,C=A.password,g=function(e){return E(Object(f.a)({},A,Object(F.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"form-container"},r.a.createElement("h1",null,"Zaloguj si\u0119"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""===d||""===C?c("Wype\u0142nij wszystkie pola","danger"):l({email:d,password:C})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"}),r.a.createElement("input",{placeholder:"ADRES EMAIL",type:"email",name:"email",value:d,onChange:g})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"}),r.a.createElement("input",{placeholder:"HAS\u0141O",type:"password",name:"password",value:C,onChange:g})),r.a.createElement("input",{className:"submit",type:"submit",value:"WEJD\u0179"})))},H=(a(77),function(){var e=Object(n.useContext)(j);return e.alerts.length>0&&e.alerts.map((function(e){return r.a.createElement("div",{key:e.id,className:"alert-".concat(e.type)},r.a.createElement("i",{className:"fas fa-info-circle"})," ",e.msg)}))}),V=a(41),Z=function(e){var t=e.component,a=Object(V.a)(e,["component"]),c=Object(n.useContext)(h),l=c.isAuthenticated,o=c.loading;return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return l||o?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/login"})}}))};localStorage.token&&v(localStorage.token);var X=function(){return r.a.createElement(y,null,r.a.createElement(g,null,r.a.createElement(N,null,r.a.createElement(o.a,null,r.a.createElement(D,null),r.a.createElement(H,null),r.a.createElement("div",{className:"container"},r.a.createElement(s.d,null,r.a.createElement(Z,{exact:!0,path:"/",component:Q}),r.a.createElement(s.b,{exact:!0,path:"/about",component:W}),r.a.createElement(s.b,{exact:!0,path:"/register",component:Y}),r.a.createElement(s.b,{exact:!0,path:"/login",component:z})))))))};l.a.render(r.a.createElement(X,null),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.5d387757.chunk.js.map